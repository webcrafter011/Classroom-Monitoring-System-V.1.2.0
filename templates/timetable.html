{% extends "layout.html" %}

{% block title %}
Edit Timetable
{% endblock %}

{% block main %}
<div class="container-fluid d-flex justify-content-center align-items-center full-height mt-2"
    style="margin-top: 10px;">
    <div class="row">
        <!-- Timetable Editing Card -->
        <div class="col-12">
            <div class="card">
                <div class="card-header">
                    <h5>Edit Timetable</h5>
                </div>
                <div class="card-body">
                    <form action="/save_timetable" method="POST">
                        <div class="mb-3">
                            <label for="subjectName" class="form-label">Subject Name</label>
                            <input type="text" class="form-control" id="subjectName" name="subject_name" required>
                        </div>
                        <div class="mb-3">
                            <label for="lectureTime" class="form-label">Lecture Timing</label>
                            <input type="time" class="form-control" id="lectureTime" name="lecture_time" required>
                        </div>
                        <div class="mb-3">
                            <label for="teacherName" class="form-label">Teacher's Name</label>
                            <input type="text" class="form-control" id="teacherName" name="teacher_name" required>
                        </div>
                        <div class="mb-3">
                            <label for="teacherEmail" class="form-label">Teacher's Email</label>
                            <input type="email" class="form-control" id="teacherEmail" name="teacher_email" required>
                        </div>
                        <div class="mb-3">
                            <label for="lectureDate" class="form-label">Lecture Date</label>
                            <input type="date" class="form-control" id="lectureDate" name="lecture_date"
                                value="{{ current_date }}" required>
                        </div>
                        <button type="submit" class="btn btn-primary">Save Timetable</button>
                    </form>
                </div>
            </div>
        </div>

        <!-- Date Picker for Displaying Timetable -->
        <div class="col-12 mt-4">
            <div class="card">
                <div class="card-header">
                    <h5>Display Timetable</h5>
                </div>
                <div class="card-body">
                    <form action="/display_timetable" method="GET">
                        <div class="mb-3">
                            <label for="selectedDate" class="form-label">Select Date</label>
                            <input type="date" class="form-control" id="selectedDate" name="date"
                                value="{{ current_date }}" required>
                        </div>
                        <button type="submit" class="btn btn-primary">Show Timetable</button>
                    </form>
                </div>
            </div>
        </div>

        <!-- Clear Timetable Button if more than 4 lectures are scheduled -->
        {% if show_display_button %}
        <div class="col-12 mt-4">
            <form action="/clear_timetable" method="POST">
                <button type="submit" class="btn btn-danger">Clear Timetable</button>
            </form>
        </div>
        {% endif %}
    </div>
</div>

<script crossorigin="anonymous"
    src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>

{% endblock %}